<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Bot de Exemplo com Menu -->
        <record id="demo_bot_menu" model="wa.bot">
            <field name="name">Bot Atendimento - Demo</field>
            <field name="sequence">1</field>
            <field name="active">True</field>
            <field name="init_mode">auto</field>
            <field name="init_command">#iniciar</field>
            <field name="session_timeout">30</field>
            <field name="session_timeout_message">Sua sess√£o expirou por inatividade. Envie qualquer mensagem para iniciar novamente.</field>
            <field name="greeting_enabled">True</field>
            <field name="greeting_message">Ol√°! üëã Bem-vindo ao nosso atendimento.
Como posso ajud√°-lo hoje?</field>
        </record>

        <!-- Fluxo 1: Menu de Op√ß√µes -->
        <record id="demo_flow_menu_step" model="wa.bot.flow">
            <field name="bot_id" ref="demo_bot_menu"/>
            <field name="sequence">10</field>
            <field name="name">Menu Principal</field>
            <field name="step_type">message</field>
            <field name="delay">2</field>
            <field name="message">Por favor, escolha uma op√ß√£o:

1Ô∏è‚É£ - Suporte T√©cnico
2Ô∏è‚É£ - Comercial / Vendas

Digite o n√∫mero da op√ß√£o desejada.</field>
        </record>

        <!-- Fluxo 2: Aguardar Resposta do Menu -->
        <record id="demo_flow_wait_menu" model="wa.bot.flow">
            <field name="bot_id" ref="demo_bot_menu"/>
            <field name="sequence">20</field>
            <field name="name">Aguardar Escolha do Menu</field>
            <field name="step_type">question</field>
            <field name="delay">0</field>
            <field name="message">Digite 1 para Suporte ou 2 para Comercial:</field>
            <field name="question_variable">menu_option</field>
            <field name="validation_type">selection</field>
            <field name="validation_options">1,2</field>
            <field name="validation_error_message">‚ùå Op√ß√£o inv√°lida! Por favor, digite 1 ou 2.</field>
        </record>

        <!-- Fluxo 3: Condi√ß√£o - Verificar Op√ß√£o -->
        <record id="demo_flow_check_option" model="wa.bot.flow">
            <field name="bot_id" ref="demo_bot_menu"/>
            <field name="sequence">30</field>
            <field name="name">Verificar Op√ß√£o Escolhida</field>
            <field name="step_type">condition</field>
            <field name="delay">0</field>
            <field name="condition_type">equals</field>
            <field name="condition_variable">menu_option</field>
            <field name="condition_value">1</field>
        </record>

        <!-- Fluxo 4a: Suporte T√©cnico -->
        <record id="demo_flow_suporte" model="wa.bot.flow">
            <field name="bot_id" ref="demo_bot_menu"/>
            <field name="sequence">40</field>
            <field name="name">Resposta - Suporte</field>
            <field name="step_type">message</field>
            <field name="delay">1</field>
            <field name="message">üîß *SUPORTE T√âCNICO*

Voc√™ foi direcionado para o suporte t√©cnico.
Nossa equipe responder√° em breve.

Descreva seu problema e aguarde.</field>
        </record>

        <!-- Fluxo 4b: Comercial -->
        <record id="demo_flow_comercial" model="wa.bot.flow">
            <field name="bot_id" ref="demo_bot_menu"/>
            <field name="sequence">41</field>
            <field name="name">Resposta - Comercial</field>
            <field name="step_type">message</field>
            <field name="delay">1</field>
            <field name="message">üíº *COMERCIAL / VENDAS*

Voc√™ foi direcionado para o comercial.
Nossa equipe de vendas responder√° em breve.

Como podemos ajud√°-lo?</field>
        </record>

        <!-- Fluxo 5: Perguntar Nome -->
        <record id="demo_flow_ask_name" model="wa.bot.flow">
            <field name="bot_id" ref="demo_bot_menu"/>
            <field name="sequence">50</field>
            <field name="name">Perguntar Nome</field>
            <field name="step_type">question</field>
            <field name="delay">2</field>
            <field name="message">Para facilitar o atendimento, qual √© o seu nome?</field>
            <field name="question_variable">customer_name</field>
            <field name="validation_type">text</field>
        </record>

        <!-- Fluxo 6: Confirma√ß√£o Final -->
        <record id="demo_flow_confirmation" model="wa.bot.flow">
            <field name="bot_id" ref="demo_bot_menu"/>
            <field name="sequence">60</field>
            <field name="name">Confirma√ß√£o</field>
            <field name="step_type">message</field>
            <field name="delay">1</field>
            <field name="message">Obrigado, {customer_name}! ‚úÖ

Sua solicita√ß√£o foi registrada e nossa equipe entrar√° em contato em breve.

Atendimento: {menu_option_text}

Tenha um √≥timo dia! üòä</field>
        </record>

        <!-- Link between steps -->
        <record id="demo_flow_menu_step" model="wa.bot.flow">
            <field name="next_step_id" ref="demo_flow_wait_menu"/>
        </record>

        <record id="demo_flow_wait_menu" model="wa.bot.flow">
            <field name="next_step_id" ref="demo_flow_check_option"/>
        </record>

        <record id="demo_flow_check_option" model="wa.bot.flow">
            <field name="true_step_id" ref="demo_flow_suporte"/>
            <field name="false_step_id" ref="demo_flow_comercial"/>
        </record>

        <record id="demo_flow_suporte" model="wa.bot.flow">
            <field name="next_step_id" ref="demo_flow_ask_name"/>
        </record>

        <record id="demo_flow_comercial" model="wa.bot.flow">
            <field name="next_step_id" ref="demo_flow_ask_name"/>
        </record>

        <record id="demo_flow_ask_name" model="wa.bot.flow">
            <field name="next_step_id" ref="demo_flow_confirmation"/>
        </record>

    </data>
</odoo>
